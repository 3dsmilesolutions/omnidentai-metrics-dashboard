<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3D Smiles Consulting</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Base navbar state */
    #navbar {
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }
    /* Scrolled navbar state */
    #navbar.scrolled {
      background-color: rgba(255, 255, 255, 0.9);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(8px);
    }
  </style>
  <!-- Use a modern sans-serif font (Inter) -->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
  rel="stylesheet">

<style>
  /* Apply Inter everywhere inside the widget */
  #ai-agent-chat {
    font-family: 'Inter', sans-serif;
  }

  /* Floating button rotation */
  .btn-rotate {
    transform: rotate(0deg);
    transition: transform 0.3s ease-out;
  }
  .btn-rotate.open {
    transform: rotate(45deg);
  }

  /* Chat window slide-up/fade-in */
  #ai-agent-chat {
    transform: translateY(300px);
    opacity: 0;
    transition: transform 0.4s ease-out, opacity 0.4s ease-out;
  }
  #ai-agent-chat.open {
    transform: translateY(0);
    opacity: 1;
  }

  /* Typing indicator: three animated dots */
  @keyframes blink-dots {
    0%, 20% { opacity: 0; }
    40% { opacity: 1; }
    60% { opacity: 0; }
    80% { opacity: 1; }
    100% { opacity: 0; }
  }
  .typing-dots span {
    display: inline-block;
    animation: blink-dots 1.5s infinite ease-in-out;
    font-size: 1rem;
    line-height: 1;
    margin-right: 2px;
    color: #555;
  }
  .typing-dots span:nth-child(2) { animation-delay: 0.3s; }
  .typing-dots span:nth-child(3) { animation-delay: 0.6s; }

  /* Scrollbar styling for the chat messages */
  #chat-messages::-webkit-scrollbar {
    width: 6px;
  }
  #chat-messages::-webkit-scrollbar-track {
    background: transparent;
  }
  #chat-messages::-webkit-scrollbar-thumb {
    background-color: rgba(0,0,0,0.2);
    border-radius: 3px;
  }
  #chatInput {
  pointer-events: auto;
  position: relative;   /* so it stays on top of any sibling containers */
  z-index: 999;        /* match or exceed the chat window’s z-index */
}

</style>

<!-- In <head> (font import & any global styles) -->
<link rel="preconnect" href="https://fonts.gstatic.com" />
<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
  rel="stylesheet"
/>
<style>
  #navbar {
    font-family: 'Inter', sans-serif;
  }
  html {
  scroll-behavior: smooth;
}

</style>

  <!-- Import Inter (for body) and Playfair Display (for “Treatment”) -->



<style>

  @font-face {
  font-family: 'Transcity';
  font-style: normal;
  font-weight: 800; /* or whatever weight this file represents */
  src: url('fonts/Transcity DEMO.otf') format('opentype');
  /* If you later convert to WOFF2/WOFF, list them first, e.g.:

  src: url('assets/fonts/PlayfairDisplay-ExtraBold.woff2') format('woff2'),
       url('assets/fonts/PlayfairDisplay-ExtraBold.woff') format('woff'),
       url('assets/fonts/PlayfairDisplay-ExtraBold.otf') format('opentype');
  */
}

  /* Hero background begins transparent and will fade in */
  #treatment-bg {
    opacity: 0;
    transition: opacity 1s ease-out;
  }
  #treatment-bg.visible {
    opacity: 1;
  }

  /* Heading uses Playfair Display instead of the default serif */
  #treatment-heading {
    font-family: 'Transcity', serif;
  }
</style>

</head>

<body class="bg-gradient-to-br from-white via-sky-50 to-blue-100 text-gray-800 overflow-x-hidden">

<!-- Navbar -->
<nav
  id="navbar"
  class="fixed w-full bg-white/50 backdrop-blur-md shadow-none z-50"
>
  <div class="max-w-7xl mx-auto px-6 py-3 flex justify-between items-center">
    <!-- Logo + Brand -->
    <a href="#" class="flex items-center space-x-2">
      <img
        src="assets/wmremove-transformed.png"
        alt="3D Smiles Consulting"
        class="h-10 w-auto object-contain"
      />
      <span
        class="text-xl font-semibold text-gray-800 tracking-widest select-none"
      >
        3D SMILES CONSULTING
      </span>
    </a>

    <!-- Navigation Links -->
    <div class="hidden md:flex space-x-8">
      <a
        href="#how-it-works"
        class="group relative flex flex-col items-center text-gray-800 uppercase tracking-widest transition-transform duration-200 hover:text-gray-900 hover:-translate-y-0.5"
      >
        Home
        <span class="absolute bottom-0 left-0 h-1 bg-blue-600 w-0 transition-all duration-300 ease-out group-hover:w-full"
        ></span>

      </a>

      <a
        href="#procedures"
        class="group relative flex flex-col items-center text-gray-800 uppercase tracking-widest transition-transform duration-200 hover:text-gray-900 hover:-translate-y-0.5"
      >
        Procedures
        <span class="absolute bottom-0 left-0 h-1 bg-blue-600 w-0 transition-all duration-300 ease-out group-hover:w-full"
        ></span>

      </a>

      <a
        href="#form"
        class="group relative flex flex-col items-center text-gray-800 uppercase tracking-widest transition-transform duration-200 hover:text-gray-900 hover:-translate-y-0.5"
      >
        Book Now
        <span
        class="absolute bottom-0 left-0 h-1 bg-blue-600 w-0 transition-all duration-300 ease-out group-hover:w-full"
        ></span>

      </a>

      <a
        href="#contact"
        class="group relative flex flex-col items-center text-gray-800 uppercase tracking-widest transition-transform duration-200 hover:text-gray-900 hover:-translate-y-0.5"
      >
        Contact
        <span
        class="absolute bottom-0 left-0 h-1 bg-blue-600 w-0 transition-all duration-300 ease-out group-hover:w-full"
        ></span>

      </a>
    </div>

    <!-- Mobile Menu Button -->
    <button
      id="mobile-menu-button"
      class="md:hidden text-gray-700 focus:outline-none"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 hover:text-gray-900 transition-colors"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 8h16M4 16h16" />
      </svg>
    </button>
  </div>

  <!-- Mobile Dropdown Menu -->
  <div id="mobile-menu" class="hidden md:hidden bg-white/90 backdrop-blur-md">
    <a
      href="#how-it-works"
      class="block px-6 py-3 border-b border-gray-200 text-gray-800 uppercase tracking-wide hover:bg-blue-50 hover:text-gray-900 transition-colors"
    >
      Home
    </a>
    <a
      href="#procedures"
      class="block px-6 py-3 border-b border-gray-200 text-gray-800 uppercase tracking-wide hover:bg-blue-50 hover:text-gray-900 transition-colors"
    >
      Procedures
    </a>
    <a
      href="#form"
      class="block px-6 py-3 border-b border-gray-200 text-gray-800 uppercase tracking-wide hover:bg-blue-50 hover:text-gray-900 transition-colors"
    >
      Book Now
    </a>
    <a
      href="#contact"
      class="block px-6 py-3 text-gray-800 uppercase tracking-wide hover:bg-blue-50 hover:text-gray-900 transition-colors"
    >
      Contact
    </a>
  </div>
</nav>

<!-- Spacer for fixed navbar -->
<div class="h-16"></div>

  <!-- Hero CTA with Blurred Gradient Blob -->
<section class="relative text-center py-24 px-4 overflow-hidden z-0">
  <!-- Gradient “blob” behind the text -->
  <div
    class="absolute top-0 right-0 w-80 h-80 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-full filter blur-3xl opacity-30 -translate-y-16 translate-x-16"
    aria-hidden="true"
  ></div>
  <div
    class="absolute bottom-0 left-0 w-80 h-80 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-full filter blur-3xl opacity-30 -translate-y-16 translate-x-16"
    aria-hidden="true"
  ></div>

  <!-- Your existing Hero content -->
  <h2
    class="relative text-4xl font-extrabold mb-4 text-blue-900 opacity-0 transform translate-y-6 transition-opacity transition-transform duration-1000 ease-out fade-in-on-scroll"
  >
    World-Class Dental Expertise. Now Powered by AI.
  </h2>
  <p
    class="relative text-lg mb-6 max-w-2xl mx-auto text-gray-700 opacity-0 transform translate-y-6 transition-opacity transition-transform duration-1000 ease-out delay-200 fade-in-on-scroll"
  >
    3D Smile Solutions.ai blends world-renowned dental expertise with cutting-edge AI to design your perfect
    smile—before you even walk in.
  </p>
  <a
    href="#form"
    class="relative inline-block bg-blue-700 text-white px-6 py-3 rounded-lg text-lg hover:bg-blue-800 transition opacity-0 transform translate-y-6 transition-opacity transition-transform duration-1000 ease-out delay-400 fade-in-on-scroll"
  >
    Get My Free Smile Preview
  </a>
</section>


<!-- Hero Treatment Section -->
<section
  id="treatment-hero"
  class="relative h-[60vh] min-h-[400px] w-full overflow-hidden z-0"
>
  <!-- Background image (will fade in) -->
  <div
    id="treatment-bg"
    class="absolute inset-0 bg-cover bg-center"
    style="background-image: url('assets/closeup-satisfied-tender-grinning-cute-redhead-girl-look-cute-lovely-camera-touch-cheek-smiling-toot.jpg');"
  ></div>

  <!-- Dark overlay for contrast -->
  <div class="absolute inset-0 bg-black/30"></div>

  <!-- Text Container: confined to left half of the section -->
  <div class="relative z-10 h-full flex items-center">
    <!-- Only the left 50% is used for text -->
    <div class="w-1/2 px-16">
      <!-- Outlined headline (starts offscreen left & transparent) -->
      <h1
        id="treatment-heading"
        class="text-[clamp(2.5rem,10vw,8rem)] font-playfair font-bold uppercase leading-tight text-transparent drop-shadow-lg
               transform -translate-x-full opacity-0 transition-transform transition-opacity duration-700 ease-out"
        style="
          -webkit-text-stroke: 2px white;
          text-stroke: 2px white;
        "
      >
        Treatment
      </h1>

      <!-- Subheading (fades in/out with heading) -->
      <p
        id="treatment-sub"
        class="mt-4 text-lg font-medium text-white transform -translate-x-full opacity-0 transition-transform transition-opacity duration-700 ease-out delay-200"
      >
        It’s your smile.<br />We educate. You decide.
      </p>
    </div>
    <!-- The right 50% is intentionally left blank so text never covers the person -->
    <div class="w-1/2 px-16"></div>
  </div>
</section>

<!-- Scroll-Triggered Animation Script -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const heading = document.getElementById("treatment-heading");
    const sub = document.getElementById("treatment-sub");
    const bg = document.getElementById("treatment-bg");
    const heroSection = document.getElementById("treatment-hero");

    // IntersectionObserver to detect when hero is in view
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            // Fade in background image
            bg.classList.add("visible");

            // Slide in heading + subheading
            heading.classList.remove("-translate-x-full", "opacity-0");
            heading.classList.add("translate-x-0", "opacity-100");

            sub.classList.remove("-translate-x-full", "opacity-0");
            sub.classList.add("translate-x-0", "opacity-100");
          } else {
            // Slide back out and fade out bg when scrolling away
            bg.classList.remove("visible");

            heading.classList.remove("translate-x-0", "opacity-100");
            heading.classList.add("-translate-x-full", "opacity-0");

            sub.classList.remove("translate-x-0", "opacity-100");
            sub.classList.add("-translate-x-full", "opacity-0");
          }
        });
      },
      { threshold: 0.3 }
    );

    observer.observe(heroSection);
  });
</script>




  <!-- Section: How It Works -->
  <section id="how-it-works" class="max-w-6xl mx-auto px-6 py-16 grid md:grid-cols-2 gap-12 items-center z-0">
     <!-- Bottom-right gradient blob -->
<!--  <div-->
<!--    class="absolute bottom-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-full filter blur-3xl opacity-30 translate-y-16 translate-x-16"-->
<!--    aria-hidden="true"-->
<!--  ></div>-->
    <div>
      <h3
        class="text-2xl font-semibold mb-4 text-blue-800 opacity-0 transform translate-y-6 transition-opacity transition-transform duration-1000 ease-out fade-in-on-scroll">
        How It Works
      </h3>
      <ul class="space-y-6 text-gray-700 opacity-0 transform translate-y-6 transition-opacity transition-transform duration-1000 ease-out delay-200 fade-in-on-scroll">
        <li class="flex items-center space-x-4">
          <!-- Upload Photo Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M208,56H180.28L166.65,35.56A8,8,0,0,0,160,32H96a8,8,0,0,0-6.65,3.56L75.71,56H48A24,24,0,0,0,24,80V192a24,24,0,0,0,24,24H208a24,24,0,0,0,24-24V80A24,24,0,0,0,208,56Zm8,136a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H80a8,8,0,0,0,6.66-3.56L100.28,48h55.43l13.63,20.44A8,8,0,0,0,176,72h32a8,8,0,0,1,8,8ZM128,88a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,88Zm0,72a28,28,0,1,1,28-28A28,28,0,0,1,128,160Z"></path></svg>
          <span><strong>Upload a Photo or Scan</strong> – No appointment needed—just a clear selfie or dental image.</span>
        </li>
        <li class="flex items-center space-x-4">
          <!-- AI Chip Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M192.5,171.47A88.34,88.34,0,0,0,224,101.93c-1-45.71-37.61-83.4-83.24-85.8A88,88,0,0,0,48,102L25.55,145.18c-.09.18-.18.36-.26.54a16,16,0,0,0,7.55,20.62l.25.11L56,176.94V208a16,16,0,0,0,16,16h48a8,8,0,0,0,0-16H72V171.81a8,8,0,0,0-4.67-7.28L40,152l23.07-44.34A7.9,7.9,0,0,0,64,104a72,72,0,0,1,56-70.21V49.38a24,24,0,1,0,16,0V32c1.3,0,2.6,0,3.9.1A72.26,72.26,0,0,1,203.84,80H184a8,8,0,0,0-6.15,2.88L152.34,113.5a24.06,24.06,0,1,0,12.28,10.25L187.75,96h19.79q.36,3.12.44,6.3a72.26,72.26,0,0,1-28.78,59.3,8,8,0,0,0-3.14,7.39l8,64a8,8,0,0,0,7.93,7,8.39,8.39,0,0,0,1-.06,8,8,0,0,0,6.95-8.93ZM128,80a8,8,0,1,1,8-8A8,8,0,0,1,128,80Zm16,64a8,8,0,1,1,8-8A8,8,0,0,1,144,144Z"></path></svg>
          <span><strong>AI-Driven Smile Simulation</strong> – Instantly preview your future smile with precision-designed
            mockups.</span>
        </li>
        <li class="flex items-center space-x-4">
          <!-- Expert Review Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M220,160a12,12,0,1,1-12-12A12,12,0,0,1,220,160Zm-4.55,39.29A48.08,48.08,0,0,1,168,240H144a48.05,48.05,0,0,1-48-48V151.49A64,64,0,0,1,40,88V40a8,8,0,0,1,8-8H72a8,8,0,0,1,0,16H56V88a48,48,0,0,0,48.64,48c26.11-.34,47.36-22.25,47.36-48.83V48H136a8,8,0,0,1,0-16h24a8,8,0,0,1,8,8V87.17c0,32.84-24.53,60.29-56,64.31V192a32,32,0,0,0,32,32h24a32.06,32.06,0,0,0,31.22-25,40,40,0,1,1,16.23.27ZM232,160a24,24,0,1,0-24,24A24,24,0,0,0,232,160Z"></path></svg>
          <span><strong>Expert Dentist Review</strong> – Your plan is validated by certified dental professionals.</span>
        </li>
        <li class="flex items-center space-x-4">
          <!-- Calendar Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M208,32H184V24a8,8,0,0,0-16,0v8H88V24a8,8,0,0,0-16,0v8H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM72,48v8a8,8,0,0,0,16,0V48h80v8a8,8,0,0,0,16,0V48h24V80H48V48ZM208,208H48V96H208V208Zm-38.34-85.66a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L116,164.69l42.34-42.35A8,8,0,0,1,169.66,122.34Z"></path></svg>
          <span><strong>Book a Personalized Consultation</strong> – Choose in-person or virtual to begin your
            transformation.</span>
        </li>
      </ul>
    </div>
    <div
      class="flex justify-center opacity-0 transform translate-y-6 transition-opacity transition-transform duration-1000 ease-out delay-400 fade-in-on-scroll">
      <!-- Large Smile/Tooth SVG -->
      <img src="assets/Adobe Express - file (1).png" height="1080" width="1920"/></div>
  </section>

  <!-- Section: Procedures -->
<!-- Section: Procedures (with image zoom & “Book Now” button animation) -->
<section id="procedures" class="relative bg-transparent py-16 px-6 overflow-visible z-0">
  <div class="max-w-6xl mx-auto relative z-10">
    <h3 class="text-3xl font-semibold text-center mb-10 text-blue-800">
      Our Top Procedures
    </h3>

    <div class="grid lg:grid-cols-3 gap-8">
      <!-- Card 1: Teeth Whitening -->
      <div
        class="group relative bg-gray-50 rounded-lg overflow-hidden shadow transition-shadow duration-200 hover:shadow-lg"
      >
        <div class="overflow-hidden">
          <img
            src="assets/closeup-young-woman-having-her-teeth-whitened-with-ultraviolet-light-dental-clinic.jpg"
            alt="Teeth Whitening"
            class="w-full h-48 object-cover transition-transform duration-300 ease-out group-hover:scale-105"
          />
        </div>
        <div class="p-6 text-center">
          <h4 class="text-xl font-semibold mb-2">Teeth Whitening</h4>
          <p class="text-gray-600 mb-4">
            Achieve a brighter, whiter smile in just one session—with AI-guided precision.
          </p>
          <button
            class="mx-auto mt-2 inline-block bg-indigo-600 text-white px-4 py-2 rounded-lg opacity-0 translate-y-4 transition-all duration-300 ease-out group-hover:opacity-100 group-hover:translate-y-0 hover:bg-indigo-700"
          >
            Book Now
          </button>
        </div>
      </div>

      <!-- Card 2: Fillings -->
      <div
        class="group relative bg-gray-50 rounded-lg overflow-hidden shadow transition-shadow duration-200 hover:shadow-lg"
      >
        <div class="overflow-hidden">
          <img
            src="assets/dentist-examining-female-patient-with-tools.jpg"
            alt="Fillings"
            class="w-full h-48 object-cover transition-transform duration-300 ease-out group-hover:scale-105"
          />
        </div>
        <div class="p-6 text-center">
          <h4 class="text-xl font-semibold mb-2">Fillings</h4>
          <p class="text-gray-600 mb-4">
            Restore tooth structure seamlessly, guided by precise AI diagnostics.
          </p>
          <button
            class="mx-auto mt-2 inline-block bg-indigo-600 text-white px-4 py-2 rounded-lg opacity-0 translate-y-4 transition-all duration-300 ease-out group-hover:opacity-100 group-hover:translate-y-0 hover:bg-indigo-700"
          >
            Book Now
          </button>
        </div>
      </div>

      <!-- Card 3: Invisalign & Aligners -->
      <div
        class="group relative bg-gray-50 rounded-lg overflow-hidden shadow transition-shadow duration-200 hover:shadow-lg"
      >
        <div class="overflow-hidden">
          <img
            src="assets/two-dental-whitening-trays-box-it.jpg"
            alt="Invisalign & Aligners"
            class="w-full h-48 object-cover transition-transform duration-300 ease-out group-hover:scale-105"
          />
        </div>
        <div class="p-6 text-center">
          <h4 class="text-xl font-semibold mb-2">Invisalign & Aligners</h4>
          <p class="text-gray-600 mb-4">
            Get precision-fitted aligners planned by AI, then reviewed by top orthodontists.
          </p>
          <button
            class="mx-auto mt-2 inline-block bg-indigo-600 text-white px-4 py-2 rounded-lg opacity-0 translate-y-4 transition-all duration-300 ease-out group-hover:opacity-100 group-hover:translate-y-0 hover:bg-indigo-700"
          >
            Book Now
          </button>
        </div>
      </div>
    </div>
  </div>
</section>




  <!-- Booking Form with Bottom-Left Blurred Gradient Blob -->
<section
  id="form"
  class="relative bg-transparent py-16 px-6 overflow-visible"
>
  <!-- Bottom-left gradient blob -->
  <div
    class="absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-br from-purple-400 to-blue-500 rounded-full filter blur-3xl opacity-30 translate-y-16 -translate-x-16"
    aria-hidden="true"
  ></div>
  <div
    class="absolute bottom-0 right-0 w-64 h-64 bg-gradient-to-br from-purple-400 to-blue-500 rounded-full filter blur-3xl opacity-30 translate-y-16 -translate-x-16"
    aria-hidden="true"
  ></div>

  <!-- Form container sits above the blob -->
  <div class="max-w-xl mx-auto relative z-10">
    <h3 class="text-2xl font-semibold text-center mb-6 text-blue-800">
      Book Your Consultation
    </h3>
    <form class="space-y-4">
      <input
        type="text"
        placeholder="Full Name"
        class="w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"
      />
      <input
        type="email"
        placeholder="Email Address"
        class="w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"
      />
      <input
        type="text"
        placeholder="Phone Number"
        class="w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"
      />
      <select
        class="w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"
      >
        <option>Select Procedure</option>
        <option>Teeth Whitening</option>
        <option>Veneers</option>
        <option>Braces / Aligners</option>
        <option>Smile Makeover</option>
        <option>Other</option>
      </select>
      <button
        type="submit"
        class="w-full bg-blue-700 text-white py-2 rounded hover:bg-blue-800 transition"
      >
        Submit
      </button>
    </form>
  </div>
</section>

  <!-- Contact Section (Anchor for “Contact” link) -->
  <!-- Contact Section -->
<section
  id="contact"
  class="group w-full px-6 py-16 text-center bg-blue-50">

  <!-- Title -->
  <h3
    class="text-2xl font-semibold mb-4 text-blue-800 fade-in-on-scroll opacity-0 transform translate-y-6 transition-opacity transition-transform duration-1000 ease-out"
  >
    Get in Touch
  </h3>

  <!-- Subtext -->
  <p
    class="text-gray-700 mb-6 fade-in-on-scroll opacity-0 transform translate-y-6 transition-opacity transition-transform duration-1000 ease-out delay-200"
  >
    We’re just one text away! Connect with our dental experts on WhatsApp for instant assistance and friendly support.
  </p>

  <!-- Button: hidden until section hover -->
  <div
    class="opacity-0 transition-opacity duration-300 group-hover:opacity-100"
  >
    <a
      href="https://wa.me/1234567890"
      target="_blank"
      class="inline-flex items-center bg-green-600 text-white px-5 py-3 rounded-full border-b-0 transition-all duration-300 overflow-hidden
             hover:shadow-lg hover:shadow-green-700/50 hover:border-b-4 hover:border-green-700"
    >
      <!-- WhatsApp SVG Icon -->
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M187.58,144.84l-32-16a8,8,0,0,0-8,.5l-14.69,9.8a40.55,40.55,0,0,1-16-16l9.8-14.69a8,8,0,0,0,.5-8l-16-32A8,8,0,0,0,104,64a40,40,0,0,0-40,40,88.1,88.1,0,0,0,88,88,40,40,0,0,0,40-40A8,8,0,0,0,187.58,144.84ZM152,176a72.08,72.08,0,0,1-72-72A24,24,0,0,1,99.29,80.46l11.48,23L101,118a8,8,0,0,0-.73,7.51,56.47,56.47,0,0,0,30.15,30.15A8,8,0,0,0,138,155l14.61-9.74,23,11.48A24,24,0,0,1,152,176ZM128,24A104,104,0,0,0,36.18,176.88L24.83,210.93a16,16,0,0,0,20.24,20.24l34.05-11.35A104,104,0,1,0,128,24Zm0,192a87.87,87.87,0,0,1-44.06-11.81,8,8,0,0,0-6.54-.67L40,216,52.47,178.6a8,8,0,0,0-.66-6.54A88,88,0,1,1,128,216Z"></path></svg>
      <span>Chat on WhatsApp</span>
    </a>
  </div>
</section>

<!-- Scroll‐Triggered Animation Script -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const observerOptions = { threshold: 0.15 };
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("opacity-100", "translate-y-0");
          entry.target.classList.remove("opacity-0", "translate-y-6");
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    document.querySelectorAll(".fade-in-on-scroll").forEach((el) => {
      el.classList.add("opacity-0", "translate-y-6");
      observer.observe(el);
    });
  });
</script>


  <!-- Footer -->
  <footer class="bg-gray-100 py-8 text-center text-sm text-gray-500">
    © 2025 3D Smiles Consulting. All rights reserved.
  </footer>

  <!-- Mobile Menu & Scroll Script -->
  <script>
    // Toggle mobile menu visibility
    const mobileMenuButton = document.getElementById("mobile-menu-button");
    const mobileMenu = document.getElementById("mobile-menu");
    mobileMenuButton.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden");
    });

    // Change navbar style on scroll
    window.addEventListener("scroll", () => {
      const navbar = document.getElementById("navbar");
      if (window.scrollY > 20) {
        navbar.classList.add("scrolled");
      } else {
        navbar.classList.remove("scrolled");
      }
    });

    // Scroll-triggered fade-in/slide-up
    document.addEventListener("DOMContentLoaded", () => {
      const observerOptions = { threshold: 0.15 };
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("opacity-100", "translate-y-0");
            entry.target.classList.remove("opacity-0", "translate-y-6");
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);

      document.querySelectorAll(".fade-in-on-scroll").forEach((el) => {
        el.classList.add("opacity-0", "translate-y-6");
        observer.observe(el);
      });
    });
  </script>


<!-- Floating AI Assistant Icon -->
<div
  id="ai-agent-button"
  onclick="toggleAIAgent()"
  class="fixed bottom-6 right-6 bg-blue-600 rounded-full w-20 h-20 shadow-lg flex items-center justify-center cursor-pointer z-50 btn-rotate"
>
  <!-- Rotating SVG icon -->
  <svg
    xmlns="http://www.w3.org/2000/svg"
    class="h-10 w-10 text-white"
    fill="currentColor"
    viewBox="0 0 256 256"
  >
    <path
      d="M224.32,114.24a56,56,0,0,0-60.07-76.57A56,56,0,0,0,67.93,51.44a56,56,0,0,0-36.25,90.32A56,56,0,0,0,69,217,56.39,56.39,0,0,0,83.59,219a55.75,55.75,0,0,0,8.17-.61,56,56,0,0,0,96.31-13.78,56,56,0,0,0,36.25-90.32ZM182.85,54.43a40,40,0,0,1,28.56,48c-.95-.63-1.91-1.24-2.91-1.81L164,74.88a8,8,0,0,0-8,0l-44,25.41V81.81l40.5-23.38A39.76,39.76,0,0,1,182.85,54.43ZM144,137.24l-16,9.24-16-9.24V118.76l16-9.24,16,9.24ZM80,72a40,40,0,0,1,67.53-29c-1,.51-2,1-3,1.62L100,70.27a8,8,0,0,0-4,6.92V128l-16-9.24ZM40.86,86.93A39.75,39.75,0,0,1,64.12,68.57C64.05,69.71,64,70.85,64,72v51.38a8,8,0,0,0,4,6.93l44,25.4L96,165,55.5,141.57A40,40,0,0,1,40.86,86.93ZM73.15,201.57a40,40,0,0,1-28.56-48c.95.63,1.91,1.24,2.91,1.81L92,181.12a8,8,0,0,0,8,0l44-25.41v18.48l-40.5,23.38A39.76,39.76,0,0,1,73.15,201.57ZM176,184a40,40,0,0,1-67.52,29.05c1-.51,2-1.05,3-1.63L156,185.73a8,8,0,0,0,4-6.92V128l16,9.24Zm39.14-14.93a39.75,39.75,0,0,1-23.26,18.36c.07-1.14.12-2.28.12-3.43V132.62a8,8,0,0,0-4-6.93l-44-25.4,16-9.24,40.5,23.38A40,40,0,0,1,215.14,169.07Z"
    />
  </svg>
</div>

<!-- Chat Widget -->
 <div
   id="ai-agent-chat"
   class="fixed bottom-32 right-6 w-96 h-[500px] bg-white border border-gray-200 rounded-2xl shadow-xl z-999 p-6 flex flex-col"
 >
  <!-- Header -->
  <div class="flex items-center mb-4">
    <div class="flex-shrink-0">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-8 w-8 text-blue-600"
        fill="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          d="M12 2C8.13 2 5 5.13 5 9a7 7 0 004.84 6.68L9 21l6.15-5.85A7 7 0 0019 9c0-3.87-3.13-7-7-7z"
        />
      </svg>
    </div>
    <h2 class="ml-2 text-lg font-semibold text-gray-800">OmniCare AI</h2>
  </div>

  <!-- Welcome Message -->
  <div class="text-gray-600 text-sm mb-4">
    👋 Welcome! I’m here to help you with dental procedures, costs, and bookings.<br />
    You can ask me anything or book an appointment directly.
  </div>

  <!-- Chat Messages Area -->
  <div
    id="chat-messages"
    class="flex-1 overflow-y-auto mb-4 text-gray-800 space-y-2"
  ></div>

  <!-- Typing Indicator (hidden by default) -->
  <div id="typing-indicator" class="hidden mb-2 text-gray-600">
    <strong>OmniCare AI:</strong>
    <span class="typing-dots">
      <span>.</span><span>.</span><span>.</span>
    </span>
  </div>

  <!-- Input Area -->
  <div class="flex gap-2">
    <input
      id="chatInput"
      type="text"
      placeholder="Type your message…"
      class="flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"
    />
    <button
      onclick="handleSend()"
      class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200"
    >
      Send
    </button>
  </div>
</div>


<!-- Toggle & Chat Script -->
<script>
  let chatOpened = false;
  let userId = null;

  // When the DOM is ready, ensure the chat is hidden (no “open” class)
  document.addEventListener("DOMContentLoaded", () => {
    const chat = document.getElementById("ai-agent-chat");
    chat.classList.remove("open");
  });

  // Toggle function: rotate button + slide chat in/out
  function toggleAIAgent() {
    const button = document.getElementById("ai-agent-button");
    const chat = document.getElementById("ai-agent-chat");
    const wasHidden = !chat.classList.contains("open");

    // Rotate the floating button
    if (wasHidden) {
      button.classList.add("open");
    } else {
      button.classList.remove("open");
    }

    // Slide chat box up or down
    if (wasHidden) {
      chat.classList.add("open");

      // On first open, send the initial greeting
      if (!chatOpened) {
        appendToChat(
          "OmniCare AI",
          "Hi there! I'm your dental assistant. May I have your email to get started?"
        );
        chatOpened = true;
      }
    } else {
      chat.classList.remove("open");
    }
  }

  // Reference to the scrollable message area and input field
  const messagesDiv = document.getElementById("chat-messages");
  const inputField = document.getElementById("chatInput");

  // Original “Enter key” handler
  inputField.addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      e.preventDefault();
      handleSend();
    }
  });

  // Main send handler
  async function handleSend(messageOverride = null, skipUserEcho = false) {
    // 1. Grab the user’s message (or a button‐label override)
    const message = messageOverride || inputField.value.trim();
    if (!message) return;

    // 2. Echo the user’s message in the chat
    if (!skipUserEcho) {
      appendToChat("You", message);
    }
    inputField.value = "";

    // 3. If we don’t yet have userId, treat the message as an email
    if (!userId) {
      // If it’s not a valid email, ask again
      if (!validateEmail(message)) {
        appendToChat("OmniCare AI", "Before we continue, may I have your email?");
        return;
      }

      // Otherwise, set userId and reset memory, then prompt for procedure
      userId = message;
      resetMemory(message);
      appendToChat(
        "OmniCare AI",
        "Thanks! What procedure would you like to know about?",
        [
          "Teeth Whitening",
          "Dental Cleaning",
          "Fillings",
          "Root Canal Treatment",
          "Braces & Aligners",
          "Implants",
        ]
      );
      return;
    }

    // 4. Otherwise, we have userId and want to contact the webhook
    //    Show typing indicator inside the messagesDiv
    const typingDiv = appendTypingIndicator();

    try {
      // Call your webhook
      const res = await fetch(
        "https://9d11-154-192-132-18.ngrok-free.app/webhook/dental-agent",
        {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ message, user_id: userId }),
        }
      );
      const data = await res.json();

      // Remove the “typing…” line
      removeTypingIndicator(typingDiv);

      // Append the actual response (and any quick‐reply buttons)
      appendToChat(
        "OmniCare AI",
        data.message || "Sorry, something went wrong.",
        data.buttons || []
      );
    } catch (err) {
      console.error(err);
      removeTypingIndicator(typingDiv);
      appendToChat("OmniCare AI", "Failed to connect to server.");
    }
  }

  // Creates a new chat‐bubble “OmniCare AI: Typing…” and returns the element
  function appendTypingIndicator() {
    const div = document.createElement("div");
    div.classList.add("space-y-1", "typing");
    div.innerHTML = `
      <strong>OmniCare AI:</strong>
      <span class="typing-dots">
        <span>.</span><span>.</span><span>.</span>
      </span>
    `;
    // Scroll to bottom before and after insertion
    messagesDiv.appendChild(div);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
    return div;
  }

  // Removes the “typing…” element from the DOM
  function removeTypingIndicator(div) {
    if (div && div.parentNode) {
      div.parentNode.removeChild(div);
    }
  }

  // Appends a normal message (optionally with quick‐reply buttons)
  function appendToChat(sender, text, buttons = []) {
    const div = document.createElement("div");
    div.classList.add("space-y-1");
    div.innerHTML = `<strong>${sender}:</strong> <span>${text}</span>`;

    if (buttons.length > 0) {
      const btnContainer = document.createElement("div");
      btnContainer.classList.add("flex", "flex-wrap", "gap-2", "pt-2");

      buttons.forEach((label) => {
        const btn = document.createElement("button");
        btn.textContent = label;
        btn.className =
          "px-3 py-1 border border-blue-600 text-blue-600 rounded-full text-sm hover:bg-blue-100 transition-colors duration-200";
        btn.onclick = () => {
          handleSend(label, true);
          btnContainer.remove();
        };
        btnContainer.appendChild(btn);
      });
      div.appendChild(btnContainer);
    }

    messagesDiv.appendChild(div);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
  }

  // Simple email validation
  function validateEmail(email) {
    return /\S+@\S+\.\S+/.test(email);
  }

  // Reset memory call (unchanged)
  function resetMemory(email) {
    fetch("https://9d11-154-192-132-18.ngrok-free.app/webhook/reset-memory", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ email }),
    });
  }
</script>

</body>
</html>
